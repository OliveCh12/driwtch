(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{31:function(e,t,c){},39:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),r=c(24),s=c.n(r),i=(c(31),c(10)),l=c(3),o=c(7),j=Object(a.createContext)(void 0),d=function(e){var t=Object(a.useState)([]),c=Object(o.a)(t,2),r=c[0],s=c[1];return Object(n.jsx)(j.Provider,{value:[r,s],children:e.children})},x=c(16),b=c(19),u=function(){var e=Object(a.useState)({query:"",interval:3e4}),t=Object(o.a)(e,2),c=t[0],r=t[1];function s(e){var t=e.target.value;r(Object(b.a)(Object(b.a)({},c),{},Object(x.a)({},e.target.name,t)))}return Object(n.jsxs)("div",{className:" h-60 flex flex-col justify-center items-center",children:[Object(n.jsxs)("div",{className:"container m-auto px-5 text-center",children:[Object(n.jsx)("h1",{className:"font-cursive text-6xl text-primary-500",children:"Driwtch"}),Object(n.jsx)("p",{className:"dark:text-gray-300 mt-2 text-lg text-gray-500",children:"Sketch as fast as you can..."})]}),Object(n.jsxs)("div",{className:"container m-auto px-5 mt-5",children:[Object(n.jsx)("input",{className:"",type:"text",name:"query",value:c.query,onChange:s,placeholder:"I want to draw..."}),Object(n.jsxs)("select",{name:"interval",value:c.interval,onChange:s,children:[Object(n.jsx)("option",{value:3e4,children:"30 seconds"}),Object(n.jsx)("option",{value:6e4,children:"1 minute"}),Object(n.jsx)("option",{value:9e4,children:"1 minute 30"}),Object(n.jsx)("option",{value:12e4,children:"2 minutes"}),Object(n.jsx)("option",{value:15e4,children:"2 minutes 30"}),Object(n.jsx)("option",{value:15e4,children:"3 minutes"}),Object(n.jsx)("option",{value:21e4,children:"3 minutes 30"}),Object(n.jsx)("option",{value:24e4,children:"4 minutes"}),Object(n.jsx)("option",{value:27e4,children:"4 minutes 30"}),Object(n.jsx)("option",{value:3e5,children:"5 minutes"})]}),Object(n.jsx)(i.b,{type:"submit",className:"px-5 py-3 rounded-full bg-red-500",to:"/".concat(c.query,"/").concat(c.interval),children:"Start"})]})]})},h=c(22),O=c(12),m=c(13),f=c(9),p=function(e){return Object(n.jsx)("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full",children:Object(n.jsx)(f.b.div,{animate:{width:"".concat(e.current,"%")},transition:{type:"tween"},className:"transition duration-500 ease-in-out bg-gradient-to-r from-purple-400 via-pink-500 to-red-500 h-1 rounded-full"})})},v=function(e){return Object(n.jsx)(f.b.button,{className:"h-12 w-12 rounded-full hover:bg-red-500 focus:bg-red-900 bg-gray-700 border border-gray-600 text-white",style:{transition:"all .15s ease"},type:"button",whileTap:{scale:1.2},onClick:e.onClick,children:e.children})},g=function(e){var t=Object(a.useContext)(j),c=Object(o.a)(t,1)[0],r=Object(a.useState)(0),s=Object(o.a)(r,2),i=s[0],l=s[1];function d(){i===c.length?alert("You reach the end"):l(i+1)}return Object(n.jsxs)("div",{className:" flex-grow h-36 relative bg-gradient-to-t from-gray-900 to-gray-800",children:[Object(n.jsx)(f.a,{children:Object(n.jsx)(f.b.img,{className:"w-full h-full object-contain",src:c[i],alt:"Sketch image",initial:{opacity:0,x:300,overflow:"hidden"},animate:{opacity:1,x:0,overflow:"hidden"},exit:{opacity:0,x:-300,overflow:"hidden"},transition:{type:"tween"}},c[i])}),Object(n.jsx)("div",{className:" w-full flex justify-center mt-5 absolute bottom-5",children:Object(n.jsx)("div",{className:"container mx-auto px-4",children:Object(n.jsxs)("div",{className:"bg-white bg-opacity-90 h-36 max-w-lg mx-auto border border-gray-200 rounded-xl w-xl dark:bg-gray-800 dark:border-gray-600 shadow-xl",children:[Object(n.jsx)("div",{className:"bg-dark-darkest border-b border-gray-600 rounded-t-xl h-8 flex justify-center items-center",children:Object(n.jsxs)("span",{className:"mb-1 dark:text-white text-xs",children:[Object(n.jsx)("strong",{className:"text-red-500",children:i})," /"," ",c.length]})}),Object(n.jsxs)("div",{className:"flex justify-between  items-center p-5 ",children:[Object(n.jsx)(v,{onClick:function(){0===i?alert("Stop"):l(i-1)},children:Object(n.jsx)(O.a,{icon:m.a})}),Object(n.jsx)("div",{className:"flex flex-col items-center",children:Object(n.jsx)(h.a,{date:Date.now()+e.duration,renderer:function(e){e.total;var t=e.minutes,c=e.seconds,a=e.completed,r=e.api;return a?(d(),r.start(),"Next"):Object(n.jsxs)("span",{className:"text-lg text-white font-bold bg-gray-900 px-9 py-2 rounded-full",children:[Object(n.jsx)(O.a,{icon:m.d}),0===t?"":t+" min"," ",0===c?"":c+" s"]})},autoStart:!0})}),Object(n.jsx)(v,{onClick:d,children:Object(n.jsx)(O.a,{icon:m.b})})]}),Object(n.jsx)(h.a,{date:Date.now()+e.duration,renderer:function(t){var c=t.total,a=t.completed,r=t.api;return a?(r.start(),"Next"):Object(n.jsx)(p,{current:100*c/e.duration})},autoStart:!0})]})})})]})},y=function(e){return Object(n.jsx)("header",{className:"flex-none h-16 border-b dark:bg-gray-800 dark:border-gray-800",children:Object(n.jsx)("div",{className:"container m-auto px-5 h-full",children:Object(n.jsxs)("nav",{className:"flex items-center justify-between px-2 py-3 navbar-expand-lg h-full",children:[Object(n.jsx)("div",{children:Object(n.jsx)(i.b,{to:"/",className:"text-xl font-cursive text-red-500 ",children:"Driwtch"})}),Object(n.jsx)("div",{children:Object(n.jsx)("strong",{className:"capitalize dark:text-white",children:e.query})}),Object(n.jsx)("div",{className:"flex justify-between dark:text-white",children:Object(n.jsx)(i.b,{to:"/",children:"GitHub"})})]})})})},w=function(e){return Object(n.jsx)("footer",{className:"bg-gray-900 flex-none flex justify-center items-center text-center h-16 z-10",children:Object(n.jsxs)("p",{className:"text-sm dark:text-white",children:["\xa9 Copyright ",(new Date).getFullYear(),", Developped by Olivier Chemla"]})})},N=function(e){var t=Object(l.f)(),c=t.query,r=t.duration,s=Object(a.useState)(!1),i=Object(o.a)(s,2),d=i[0],x=i[1],b=Object(a.useState)(null),u=Object(o.a)(b,2),h=u[0],p=u[1],v=Object(a.useState)(""),N=Object(o.a)(v,2),k=(N[0],N[1],Object(a.useContext)(j)),S=Object(o.a)(k,2),C=(S[0],S[1]);return Object(a.useEffect)((function(){fetch("https://driwtch.herokuapp.com/search/?searchquery=".concat(c)).then((function(e){return e.json()})).then((function(e){x(!0),C(e)}),(function(e){x(!0),p(e)}))}),[]),h?Object(n.jsxs)("div",{children:["Erreur : ",h.message]}):d?Object(n.jsxs)("div",{className:"flex flex-col h-screen overflow-hidden",children:[Object(n.jsx)(y,{query:c}),Object(n.jsx)(g,{duration:parseInt(r)}),Object(n.jsx)(w,{})]}):Object(n.jsxs)("div",{className:"flex flex-col h-screen",children:[Object(n.jsx)(y,{query:c}),Object(n.jsxs)("div",{className:"flex flex-col justify-center items-center flex-grow",children:[Object(n.jsx)(f.b.div,{animate:{scale:[1,1.1,1.1,1,1],rotate:[0,0,270,270,0]},transition:{repeat:1/0,duration:2},children:Object(n.jsx)(O.a,{className:"text-red-500",icon:m.c,size:"5x"})}),Object(n.jsxs)("span",{className:"text-center text-xl font-bold dark:text-white",children:["Un moment s'il te plait, je recherche des images de"," ",Object(n.jsx)("strong",{className:"capitalize text-red-600",children:c})]})]}),Object(n.jsx)(w,{})]})};var k=function(){return Object(n.jsx)(d,{children:Object(n.jsx)("div",{className:"h-screen dark:bg-dark",children:Object(n.jsx)(i.a,{children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/",children:Object(n.jsx)(u,{})}),Object(n.jsx)(l.a,{path:"/:query/:duration",children:Object(n.jsx)(N,{})})]})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(n.jsx)(k,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.50564332.chunk.js.map