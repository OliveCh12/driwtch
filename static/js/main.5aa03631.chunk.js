(this.webpackJsonpdriwtch=this.webpackJsonpdriwtch||[]).push([[0],{31:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(0),r=a(24),i=a.n(r),s=(a(31),a(10)),o=a(3),l=a(7),d=Object(n.createContext)(void 0),j=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],i=a[1];return Object(c.jsx)(d.Provider,{value:[r,i],children:e.children})},b=a(16),x=a(19),u=function(e){return Object(c.jsx)("header",{className:"flex-none h-16 border-b dark:bg-gray-800 dark:border-gray-800 w-full",children:Object(c.jsx)("div",{className:"container m-auto px-5 h-full",children:Object(c.jsxs)("nav",{className:"flex items-center justify-between px-2 py-3 navbar-expand-lg h-full",children:[Object(c.jsx)("div",{children:Object(c.jsx)(s.b,{to:"/",className:"text-xl font-cursive text-indigo-500 ",children:"Driwtch"})}),e.query?Object(c.jsx)("div",{children:Object(c.jsx)("strong",{className:"capitalize dark:text-white",children:e.query})}):"",Object(c.jsx)("div",{className:"flex justify-between dark:text-white",children:Object(c.jsx)(s.b,{to:"/",children:"GitHub"})})]})})})},h=function(e){return Object(c.jsx)("footer",{className:"dark:bg-gray-900 flex-none flex justify-center items-center text-center h-16 z-10 w-full",children:Object(c.jsxs)("p",{className:"text-sm dark:text-white",children:["\xa9 Copyright"," ",Object(c.jsx)("strong",{className:"text-indigo-500",children:(new Date).getFullYear()}),", Developped by Olivier Chemla"]})})},m=a(9),O=function(){var e=Object(n.useState)({query:"",interval:3e4}),t=Object(l.a)(e,2),a=t[0],r=t[1];function i(e){var t=e.target.value;r(Object(x.a)(Object(x.a)({},a),{},Object(b.a)({},e.target.name,t)))}return Object(c.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-800  h-full flex flex-col justify-center items-center",children:[Object(c.jsx)(u,{}),Object(c.jsxs)("div",{className:"container m-auto px-5 mt-5 h-full flex flex-col justify-center items-center",children:[Object(c.jsx)(m.b.h1,{initial:{y:100,scale:3,opacity:0},animate:{y:0,scale:1,opacity:1},transition:{duration:.5,type:"spring"},className:"font-cursive text-6xl text-indigo-500",children:"Driwtch"}),Object(c.jsx)("p",{className:"dark:text-gray-300 text-xl text-gray-500 mb-5",children:"Sketch as fast as you can..."}),Object(c.jsxs)("div",{className:"flex",children:[Object(c.jsx)("input",{className:"bg-white dark:bg-gray-700 dark:text-white shadow rounded border-0 p-3",type:"text",name:"query",value:a.query,onChange:i,placeholder:"I want to draw..."}),Object(c.jsxs)("select",{className:"bg-white dark:bg-gray-700 dark:text-white shadow rounded p-3 ml-3",name:"interval",value:a.interval,onChange:i,children:[Object(c.jsx)("option",{value:3e4,children:"30 seconds"}),Object(c.jsx)("option",{value:6e4,children:"1 minute"}),Object(c.jsx)("option",{value:9e4,children:"1 minute 30"}),Object(c.jsx)("option",{value:12e4,children:"2 minutes"}),Object(c.jsx)("option",{value:15e4,children:"2 minutes 30"}),Object(c.jsx)("option",{value:15e4,children:"3 minutes"}),Object(c.jsx)("option",{value:21e4,children:"3 minutes 30"}),Object(c.jsx)("option",{value:24e4,children:"4 minutes"}),Object(c.jsx)("option",{value:27e4,children:"4 minutes 30"}),Object(c.jsx)("option",{value:3e5,children:"5 minutes"})]})]}),Object(c.jsx)(s.b,{type:"submit",className:"border border-indigo-600 text-white px-10 py-3 rounded-lg bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-700 shadow-xl mt-5",to:"/".concat(a.query,"/").concat(a.interval),children:"Start session"})]}),Object(c.jsx)(h,{})]})},g=a(22),f=a(12),v=a(13),p=function(e){return Object(c.jsx)("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full",children:Object(c.jsx)(m.b.div,{animate:{width:"".concat(e.current,"%")},transition:{type:"tween"},className:"transition duration-500 ease-in-out bg-gradient-to-r from-indigo-400  to-indigo-600 h-1 rounded-full"})})},y=function(e){return Object(c.jsx)(m.b.button,{className:"bg-white text-indigo-500 dark:text-white dark:bg-gray-700 h-12 w-12 rounded-full hover:bg-indigo-500 focus:bg-indigo-700  border border-gray-300 dark:border-gray-600 hover:text-white",style:{transition:"all .15s ease"},type:"button",whileTap:{scale:1.2},onClick:e.onClick,children:e.children})},w=function(e){var t=Object(n.useContext)(d),a=Object(l.a)(t,1)[0],r=Object(n.useState)(0),i=Object(l.a)(r,2),s=i[0],o=i[1];function j(){s===a.length?alert("You reach the end"):o(s+1)}return Object(c.jsxs)("div",{className:" flex-grow h-36 relative dark:bg-gradient-to-t from-gray-900 to-gray-800",children:[Object(c.jsx)(m.a,{children:Object(c.jsx)(m.b.img,{className:"w-full h-full object-contain",src:a[s],alt:"Sketch image",initial:{opacity:0,x:300,overflow:"hidden"},animate:{opacity:1,x:0,overflow:"hidden"},exit:{opacity:0,x:-300,overflow:"hidden"},transition:{type:"tween"}},a[s])}),Object(c.jsx)("div",{className:" w-full flex justify-center mt-5 absolute bottom-5",children:Object(c.jsx)("div",{className:"container mx-auto px-4",children:Object(c.jsxs)("div",{className:"bg-white bg-opacity-90 h-36 max-w-lg mx-auto border border-gray-200 rounded-xl w-xl dark:bg-gray-800 dark:border-gray-600 shadow-xl",children:[Object(c.jsx)("div",{className:"bg-white dark:bg-dark-darkest border-b border-gray-200 dark:border-gray-600 rounded-t-xl h-8 flex justify-center items-center",children:Object(c.jsxs)("span",{className:"mb-1 dark:text-white text-xs",children:[Object(c.jsx)("strong",{className:"text-indigo-500",children:s})," /"," ",a.length]})}),Object(c.jsxs)("div",{className:"flex justify-between  items-center p-5 ",children:[Object(c.jsx)(y,{onClick:function(){0===s?alert("Stop"):o(s-1)},children:Object(c.jsx)(f.a,{icon:v.a})}),Object(c.jsx)("div",{className:"flex flex-col items-center",children:Object(c.jsx)(g.a,{date:Date.now()+e.duration,renderer:function(e){e.total;var t=e.minutes,a=e.seconds,n=e.completed,r=e.api;return n?(j(),r.start(),"Next"):Object(c.jsxs)("span",{className:"text-lg text-white font-bold bg-indigo-500 px-9 py-2 rounded-full",children:[Object(c.jsx)(f.a,{icon:v.d,className:"mr-1"}),0===t?"":t+" min"," ",0===a?"":a+" s"]})},autoStart:!0})}),Object(c.jsx)(y,{onClick:j,children:Object(c.jsx)(f.a,{icon:v.b})})]}),Object(c.jsx)(g.a,{date:Date.now()+e.duration,renderer:function(t){var a=t.total,n=t.completed,r=t.api;return n?(r.start(),"Next"):Object(c.jsx)(p,{current:100*a/e.duration})},autoStart:!0})]})})})]})},N=function(){var e=Object(o.f)(),t=e.query,a=e.duration,r=Object(n.useState)(!1),i=Object(l.a)(r,2),s=i[0],j=i[1],b=Object(n.useState)(null),x=Object(l.a)(b,2),O=x[0],g=x[1],p=Object(n.useState)(""),y=Object(l.a)(p,2),N=(y[0],y[1],Object(n.useContext)(d)),k=Object(l.a)(N,2),S=(k[0],k[1]);return Object(n.useEffect)((function(){fetch("https://driwtch.herokuapp.com/search/?searchquery=".concat(t)).then((function(e){return e.json()})).then((function(e){j(!0),S(e)}),(function(e){j(!0),g(e)}))}),[]),O?Object(c.jsxs)("div",{children:["Erreur : ",O.message]}):s?Object(c.jsxs)("div",{className:"flex flex-col h-screen overflow-hidden",children:[Object(c.jsx)(u,{query:t}),Object(c.jsx)(w,{duration:parseInt(a)}),Object(c.jsx)(h,{})]}):Object(c.jsxs)("div",{className:"flex flex-col h-screen dark:bg-gray-800",children:[Object(c.jsx)(u,{query:t}),Object(c.jsxs)("div",{className:"flex flex-col justify-center items-center flex-grow",children:[Object(c.jsx)(m.b.div,{animate:{scale:[1,1.1,1.1,1,1],rotate:[0,0,270,270,0]},transition:{repeat:1/0,duration:2},children:Object(c.jsx)(f.a,{className:"text-indigo-500",icon:v.c,size:"4x"})}),Object(c.jsxs)("span",{className:"text-center text-xl font-bold dark:text-white mt-8",children:["Un moment s'il te plait, je recherche des images de : ",Object(c.jsx)("br",{}),Object(c.jsxs)("strong",{className:"text-indigo-500 mt-5",children:["\xab ",t," \xbb"]})]})]}),Object(c.jsx)(h,{})]})};var k=function(){return Object(c.jsx)(j,{children:Object(c.jsx)("div",{className:"h-screen dark:bg-dark",children:Object(c.jsx)(s.a,{basename:"",children:Object(c.jsx)(o.a,{render:function(e){var t=e.location;return Object(c.jsxs)(o.c,{location:t,children:[Object(c.jsx)(o.a,{exact:!0,path:"/",component:O}),Object(c.jsx)(o.a,{exact:!0,path:"/:query/:duration",component:N})]})}})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(c.jsx)(k,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.5aa03631.chunk.js.map